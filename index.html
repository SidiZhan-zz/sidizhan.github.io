<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>Von Wunderland</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Von Wunderland">
<meta property="og:url" content="https://sidizhan.github.io/index.html">
<meta property="og:site_name" content="Von Wunderland">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Von Wunderland">
  
    <link rel="alternate" href="/atom.xml" title="Von Wunderland" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Von Wunderland</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://sidizhan.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-how-do-i-set-up-this-blog-site" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/24/how-do-i-set-up-this-blog-site/" class="article-date">
  <time datetime="2018-10-24T13:27:41.000Z" itemprop="datePublished">2018-10-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/10/24/how-do-i-set-up-this-blog-site/">how do i set up this blog site</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="how-to-set-up-a-hexo-blog-site-to-be-visited-via-github-io"><a href="#how-to-set-up-a-hexo-blog-site-to-be-visited-via-github-io" class="headerlink" title="how to set up a hexo blog site to be visited via *.github.io?"></a>how to set up a hexo blog site to be visited via *.github.io?</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>I tried to set up hexo once months ago, but didn’t touch it until recently. I screwed it so now I have to set it up again. In order to remember all the steps, I decide to record the process down here.</p>
<h2 id="install"><a href="#install" class="headerlink" title="install"></a>install</h2><p>First of all you should install node, npm and yarn. And then hexo itself (a git repository as starter).<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure></p>
<p>Go to a directory/workspace that you want to put your site, for instance <code>vonwunderland</code>. Use npm to install all the required packages in <code>package.json</code>.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init vonwunderland</span><br><span class="line"><span class="built_in">cd</span> vonwunderland</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure></p>
<p>Now if you run the server you will be able to visit your site with a hello world post locally (localhost:4000).<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure></p>
<h2 id="new-post"><a href="#new-post" class="headerlink" title="new post"></a>new post</h2><p>Create a new post by:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="string">"how do i set up this blog site"</span></span><br></pre></td></tr></table></figure></p>
<p>then edit it with markdown format, in any text editor (me, visual studio code with markdown preview plug-in). The server will auto track the changes.</p>
<h2 id="to-github"><a href="#to-github" class="headerlink" title="to github"></a>to github</h2><p>Now you want to deploy this onto github so that everyone can visit your blog site. So go to github and create a repo named <code>yourname.github.io</code> (my is <code>sidizhan.github.io</code>). Ignore the node. Then locally, install the deployer.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></p>
<p>Copy the url for repo and paste it in <code>_config.yml</code>, under <code>deploy:</code>, final edition is like:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: git@github.com:SidiZhan/sidizhan.github.io.git</span><br><span class="line">  branch: master</span><br><span class="line">  message: <span class="string">"&#123;&#123; now('YYYY-MM-DD HH:mm:ss') &#125;&#125;"</span></span><br></pre></td></tr></table></figure></p>
<p>Then, you can deploy:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure></p>
<p>and visit the website at <a href="https://sidizhan.github.io/">https://sidizhan.github.io/</a>!</p>
<h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips: "></a>Tips: </h2><p>it may take minutes to update the setting in github.io, so if you can only visit home page by specifying the index.html (<a href="https://sidizhan.github.io/index.html)">https://sidizhan.github.io/index.html)</a>, or the new posts won’t show up, just be patient and wait.</p>
<h2 id="in-a-nut-shell"><a href="#in-a-nut-shell" class="headerlink" title="in a nut shell"></a>in a nut shell</h2><p>Don’t forget the process to publish a new post:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> vonwunderland</span><br><span class="line">hexo new <span class="string">"new post"</span></span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure></p>
<h2 id="references"><a href="#references" class="headerlink" title="references"></a>references</h2><p><a href="https://hexo.io/docs/configuration" target="_blank" rel="noopener">hexo</a></p>
<p><a href="https://malekbenz.com/blog/2016/09/10/Create-Host-Blog-for-free-with-Hexo-Github" target="_blank" rel="noopener">Create-Host-Blog-for-free-with-Hexo-Github</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sidizhan.github.io/2018/10/24/how-do-i-set-up-this-blog-site/" data-id="cjnn84bzp00013nj8sv5vnx0w" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-python-data-analyst-interview" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/24/python-data-analyst-interview/" class="article-date">
  <time datetime="2018-10-24T13:22:02.000Z" itemprop="datePublished">2018-10-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/10/24/python-data-analyst-interview/">python data analyst interview</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="data-analyst-in-investment"><a href="#data-analyst-in-investment" class="headerlink" title="data analyst (in investment)"></a>data analyst (in investment)</h1><h2 id="questions-in-python-find-two-errors-in-the-code"><a href="#questions-in-python-find-two-errors-in-the-code" class="headerlink" title="questions in python: find two errors in the code"></a>questions in python: find two errors in the code</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">id = <span class="number">0</span> </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span><span class="params">(perperty, params = [])</span>:</span> <span class="comment"># cannot pass params as a dynamic parameters here</span></span><br><span class="line">    id += <span class="number">1</span> <span class="comment"># UnboundLocalError: local variable 'id' referenced before assignment</span></span><br><span class="line">    <span class="keyword">if</span>(perpertu % <span class="number">10</span>) != <span class="number">0</span>:</span><br><span class="line">        params.append(<span class="string">"vip"</span>)</span><br><span class="line">    <span class="keyword">if</span>(perpertu % <span class="number">100</span> + perpertu % <span class="number">10</span> )!= <span class="number">0</span>:</span><br><span class="line">        params.append(<span class="string">"accounter"</span>)</span><br><span class="line">    <span class="keyword">if</span>(perpertu % <span class="number">1000</span> + perpertu % <span class="number">100</span>) != <span class="number">0</span>:</span><br><span class="line">        params.append(<span class="string">"ceo"</span>)</span><br><span class="line">    <span class="keyword">return</span> id, params</span><br><span class="line"></span><br><span class="line">john = &#123;<span class="string">'perperty'</span>: <span class="number">11</span>&#125;</span><br><span class="line">john[<span class="string">'id'</span>], john[<span class="string">'role'</span>] = fun(john[<span class="string">'perperty'</span>], <span class="string">'employee'</span>)</span><br><span class="line"><span class="comment"># john = ['employee', 'vip', 'ceo']</span></span><br><span class="line">print(john)</span><br></pre></td></tr></table></figure>
<h2 id="write-sql-to-find-books"><a href="#write-sql-to-find-books" class="headerlink" title="write sql to find books"></a>write sql to find books</h2><p>write with python and sql</p>
<ol>
<li>输出被借出超过五册的书的书名和借出册数</li>
<li>输出当前日期和指定日期的书的剩余册数和押金总额</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sidizhan.github.io/2018/10/24/python-data-analyst-interview/" data-id="cjnn84bzs00033nj8mkolyhdh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-c-sharp-in-depth-ch-11" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/24/c-sharp-in-depth-ch-11/" class="article-date">
  <time datetime="2018-10-24T13:02:26.000Z" itemprop="datePublished">2018-10-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/10/24/c-sharp-in-depth-ch-11/">c sharp in depth ch 11</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ch-11-查询表达式和-LINQ-to-Objects"><a href="#ch-11-查询表达式和-LINQ-to-Objects" class="headerlink" title="ch 11 查询表达式和 LINQ to Objects"></a>ch 11 查询表达式和 LINQ to Objects</h1><h2 id="intro"><a href="#intro" class="headerlink" title="intro"></a>intro</h2><ul>
<li>Language Integrated Query (LINQ)， C# 3的新特性。</li>
<li>标准查询操作符 -&gt; 构成查询表达式 -&gt; 转译为普通c#3 代码 -&gt; 编译(推断、重载、Lambda表达式)</li>
<li>序列：一次只能取当前的那个元素。IEnumerable</li>
<li>延迟执行和流处理：查询表达式被创建时，不会访问数据，而是在内存中生成了这个查询的表现形式。过滤判断通过委托实例来表示，只有在访问结果的第一个元素的时候，才开始执行。每次只处理一个元素。</li>
<li>范围变量 (range variable)</li>
<li>声明式而非命令式，函数式编程思想</li>
</ul>
<p>思考</p>
<ul>
<li>何时使用查询表达式、何时使用点标记？<h2 id="选择元素-from-select"><a href="#选择元素-from-select" class="headerlink" title="选择元素: from select"></a>选择元素: from select</h2><h3 id="from-范围变量-in-数据源-where-过滤-select-投影"><a href="#from-范围变量-in-数据源-where-过滤-select-投影" class="headerlink" title="from 范围变量 in 数据源 where 过滤 select 投影"></a>from 范围变量 in 数据源 where 过滤 select 投影</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//11-2</span></span><br><span class="line"><span class="keyword">from</span> user <span class="keyword">in</span> SampleData.AllUsers </span><br><span class="line">            <span class="keyword">select</span> user;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>转译=&gt; <code>SampleData.AllUsers.Select(user =&gt; user);</code></p>
</blockquote>
<h3 id="显式类型的范围变量：Cast-OfType"><a href="#显式类型的范围变量：Cast-OfType" class="headerlink" title="显式类型的范围变量：Cast, OfType"></a>显式类型的范围变量：Cast, OfType</h3><p>范围变量都可以是隐式类型。Cast，OfType将飞类型化序列转化为强类型。<br>遇到不匹配类型，Cast报错，OfType跳过。<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//11-5</span></span><br><span class="line">ArrayList list = <span class="keyword">new</span> ArrayList &#123; <span class="string">"First"</span>, <span class="string">"Second"</span>, <span class="string">"Third"</span>&#125;;</span><br><span class="line">IEnumerable&lt;<span class="keyword">string</span>&gt; strings = list.Cast&lt;<span class="keyword">string</span>&gt;();</span><br><span class="line"></span><br><span class="line">list = <span class="keyword">new</span> ArrayList &#123; <span class="number">1</span>, <span class="string">"not an int"</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line">IEnumerable&lt;<span class="keyword">int</span>&gt; ints = list.OfType&lt;<span class="keyword">int</span>&gt;();</span><br></pre></td></tr></table></figure></p>
<h2 id="筛选排序：where-orderby"><a href="#筛选排序：where-orderby" class="headerlink" title="筛选排序：where, orderby"></a>筛选排序：where, orderby</h2><h3 id="where"><a href="#where" class="headerlink" title="where"></a>where</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//11-8</span></span><br><span class="line">User tim = SampleData.Users.TesterTim;</span><br><span class="line"><span class="keyword">var</span> query = <span class="keyword">from</span> defect <span class="keyword">in</span> Sample</span><br><span class="line">    <span class="keyword">where</span> defect.Status != Status.Closed</span><br><span class="line">    <span class="keyword">where</span> defect.AssignedTo = tim</span><br><span class="line">    <span class="keyword">select</span> defect.Summary;</span><br></pre></td></tr></table></figure>
<ul>
<li>Q. 多个where，何时合并？</li>
<li>A. 逻辑上关联的条件合并在一起，逻辑上不关联的保持独立。这里两个where可以合并。</li>
</ul>
<h3 id="退化的查询表达式：select-item"><a href="#退化的查询表达式：select-item" class="headerlink" title="退化的查询表达式：select item"></a>退化的查询表达式：select item</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.Select(defect =&gt; defect)</span><br></pre></td></tr></table></figure>
<p>查询表达式的结果和源数据永远不会是同一个对象，对返回数据集的改变也不会影响到“主”数据。</p>
<blockquote>
<ul>
<li><code>orderby descending</code> =&gt;转译=&gt; <code>OrderByDescending()</code> 或者 <code>ThenByDescending()</code></li>
<li><code>orderby</code> =&gt;转译=&gt; <code>OrderBy()</code> 或者 <code>ThenBy()</code>，默认ascending</li>
<li><code>ThenBy()</code> 对之前的一个或多个排序规则起辅助作用，是定义为 <code>IOrderedEnumerable&lt;T&gt;</code>的扩展方法</li>
</ul>
</blockquote>
<h2 id="透明标识符：-let"><a href="#透明标识符：-let" class="headerlink" title="透明标识符： let"></a>透明标识符： let</h2><p><csharp 4="" specification=""> 7.16.2.4 From, let, where, join and orderby clauses</csharp></p>
<blockquote>
<p>A query expression with a let clause<br><code>from x in e let y = f</code><br>is translated into<br><code>from * in ( e ) . Select ( x =&gt; new { x , y = f } )</code></p>
</blockquote>
<h2 id="连接：join"><a href="#连接：join" class="headerlink" title="连接：join"></a>连接：join</h2><h3 id="内连接：inner-join"><a href="#内连接：inner-join" class="headerlink" title="内连接：inner join"></a>内连接：inner join</h3><p>inner = left, outer = right 内连接从某个对象导航到另一个对象。对右边序列进行缓冲，对左边序列进行流处理。<br>在SQL中，内连接通常是把某个表的外键和另一个表的主键进行连接。<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//11-12</span></span><br><span class="line"><span class="keyword">from</span> defect <span class="keyword">in</span> SampleData.AllDefects</span><br><span class="line">    <span class="keyword">join</span> subscription <span class="keyword">in</span> SampleData.AllSubscriptions</span><br><span class="line">        <span class="keyword">on</span> defect.Project <span class="keyword">equals</span> subcription.Project</span><br><span class="line">    <span class="keyword">select</span> <span class="keyword">new</span> &#123;defect.Summary, subscription.EmailAdress&#125;;</span><br></pre></td></tr></table></figure></p>
<p>send defect to subcripter’s emailbox</p>
<blockquote>
<p>=&gt;转译=&gt;<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">leftSequence.Join(rightSequence,</span><br><span class="line">    leftKeySelector,</span><br><span class="line">    rightKeySelector,</span><br><span class="line">    resultSelector)</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="where-1"><a href="#where-1" class="headerlink" title="where"></a>where</h3><ul>
<li><p>in left sequence</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> defect <span class="keyword">in</span> SampleData.AllDefects</span><br><span class="line">    <span class="keyword">where</span> defect.Status == Status.Closed</span><br><span class="line">    <span class="keyword">join</span> subscription <span class="keyword">in</span> SampleData.AllSubscriptions</span><br><span class="line">        <span class="keyword">on</span> defect.Project <span class="keyword">equals</span> subcription.Project</span><br><span class="line">    <span class="keyword">select</span> <span class="keyword">new</span> &#123;defect.Summary, subscription.EmailAdress&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>in right sequence</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> subscription <span class="keyword">in</span> SampleData.AllSubscriptions</span><br><span class="line">    <span class="function"><span class="keyword">join</span> defect <span class="title">in</span> (<span class="params"><span class="keyword">from</span> defect <span class="keyword">in</span> SampleData.AllDefects</span></span></span><br><span class="line"><span class="function"><span class="params">            <span class="keyword">where</span> defect.Status == Status.Closed</span></span></span><br><span class="line"><span class="function"><span class="params">            <span class="keyword">select</span> defect</span>)</span></span><br><span class="line"><span class="function">        <span class="keyword">on</span> defect.Project <span class="keyword">equals</span> subcription.Project</span></span><br><span class="line"><span class="function">    <span class="keyword">select</span> new</span> &#123;defect.Summary, subscription.EmailAdress&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="分组连接：join-into"><a href="#分组连接：join-into" class="headerlink" title="分组连接：join into"></a>分组连接：join into</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//11-13</span></span><br><span class="line"><span class="keyword">from</span> defect <span class="keyword">in</span> SampleData.AllDefects</span><br><span class="line">    <span class="keyword">join</span> subscription <span class="keyword">in</span> SampleData.AllSubscriptions</span><br><span class="line">        <span class="keyword">on</span> defect.Project <span class="keyword">equals</span> subcription.Project</span><br><span class="line">        <span class="keyword">into</span> groupedSubscriptions</span><br><span class="line">    <span class="keyword">select</span> <span class="keyword">new</span> &#123; Defect = defect, Subscriptions = groupedSubscriptions&#125;;</span><br></pre></td></tr></table></figure>
<p>group join != group by: 对于分组连接来说，左边序列和结果序列是一对一，左边元素不匹配任何右边元素时，嵌入序列是空的。</p>
<blockquote>
<p>=&gt;转译=&gt; <code>.GroupJoin()</code></p>
</blockquote>
<h3 id="交叉连接：cross-join"><a href="#交叉连接：cross-join" class="headerlink" title="交叉连接：cross join"></a>交叉连接：cross join</h3><p>不存在序列间的匹配操作，结果包含了所有可能的元素对。笛卡尔积(cartesian join)<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//11-15</span></span><br><span class="line"><span class="keyword">from</span> user <span class="keyword">in</span> SampleData.AllUsers</span><br><span class="line">    <span class="keyword">from</span> project <span class="keyword">in</span> SampleData.AllProjects</span><br><span class="line">    <span class="keyword">select</span> <span class="keyword">new</span> &#123;User = user, Project = project&#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li>右边序列依赖于左边元素<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 11-16</span></span><br><span class="line"><span class="keyword">from</span> left <span class="keyword">in</span> Enumerable.Range(<span class="number">1</span>, <span class="number">4</span>)</span><br><span class="line">    <span class="keyword">from</span> right <span class="keyword">in</span> Enumerable.Range(<span class="number">11</span>, left)</span><br><span class="line">    <span class="keyword">select</span> <span class="keyword">new</span> &#123;Left = left, Right = right&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>=&gt;转译=&gt; <code>.SelectMany()</code></p>
</blockquote>
<h2 id="分组和延续：group-by-into"><a href="#分组和延续：group-by-into" class="headerlink" title="分组和延续：group by, into"></a>分组和延续：group by, into</h2><h3 id="group-by"><a href="#group-by" class="headerlink" title="group by"></a>group by</h3><p>键和序列的组合封装于<code>IGrouping&lt;TKey, TElement&gt; : IEnemerable&lt;TElement&gt;</code>中。<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 11-17</span></span><br><span class="line"><span class="keyword">from</span> defect <span class="keyword">in</span> SampleData.AllDefects</span><br><span class="line">            <span class="keyword">where</span> defect.AssignedTo != <span class="literal">null</span></span><br><span class="line">            <span class="keyword">group</span> defect <span class="keyword">by</span> defect.AssignedTo;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>=&gt;转译=&gt;  <code>.GroupBy()</code></p>
</blockquote>
<p>group by 的投影<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//11-18</span></span><br><span class="line"><span class="keyword">from</span> defect <span class="keyword">in</span> SampleData.AllDefects</span><br><span class="line">            <span class="keyword">where</span> defect.AssignedTo != <span class="literal">null</span></span><br><span class="line">            <span class="keyword">group</span> defect.Summary <span class="keyword">by</span> defect.AssignedTo;</span><br></pre></td></tr></table></figure></p>
<ul>
<li>所有查询表达式要以select 或者 group by 子句来结尾。</li>
</ul>
<h3 id="查询延续（query-continuations）"><a href="#查询延续（query-continuations）" class="headerlink" title="查询延续（query continuations）"></a>查询延续（query continuations）</h3><ul>
<li>把一个查询表达式的结果用作另个一查询表达式的初始序列</li>
<li>select / group by + into 引入新的范围变量（清除之前的范围变量，只有在延续中声明的范围变量才能在后续使用）。</li>
</ul>
<p>Q. find scope of defect, grouped and result<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 11-20 </span></span><br><span class="line"><span class="keyword">from</span> defect <span class="keyword">in</span> SampleData.AllDefects</span><br><span class="line">            <span class="keyword">where</span> defect.AssignedTo != <span class="literal">null</span></span><br><span class="line">            <span class="keyword">group</span> defect <span class="keyword">by</span> defect.AssignedTo <span class="keyword">into</span> grouped</span><br><span class="line">            <span class="keyword">select</span> <span class="keyword">new</span> &#123; Assignee=grouped.Key, </span><br><span class="line">                         Count=grouped.Count() &#125; <span class="keyword">into</span> result</span><br><span class="line">            <span class="keyword">orderby</span> result.Count <span class="keyword">descending</span></span><br><span class="line">            <span class="keyword">select</span> result;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>=&gt;转译=&gt;<br><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SampleData.AllDefects</span><br><span class="line">    .Where(defect =&gt; defect.AssignedTo != <span class="literal">null</span>)</span><br><span class="line">    .GroupBy(defect =&gt; defect.AssignedTo)</span><br><span class="line">    .Select(gouped =&gt; <span class="keyword">new</span> &#123; Assignee = grouped.Key,</span><br><span class="line">                            Count = grouped.Count()&#125;)</span><br><span class="line">    .OrderByDescending(result =&gt; result.Count);</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="查询表达式和点标记：dot-notation"><a href="#查询表达式和点标记：dot-notation" class="headerlink" title="查询表达式和点标记：dot notation"></a>查询表达式和点标记：dot notation</h2><p>转译成extension method：查询表达式在编译之前，先被转译为普通的C# （查询操作符、点标记：Enumerable中的扩展方法）.</p>
<table>
<thead>
<tr>
<th>查询表达式</th>
<th>点标记</th>
</tr>
</thead>
<tbody>
<tr>
<td>-</td>
<td>没有相应查询表达式: .Reverse(), .ToDictionary() 等</td>
</tr>
<tr>
<td>-</td>
<td>特定重载</td>
</tr>
<tr>
<td>-</td>
<td>自定义比较器</td>
</tr>
<tr>
<td>-</td>
<td>清晰可读</td>
</tr>
<tr>
<td>多个lambda表达式，多个调用：join 的键选择</td>
<td>-</td>
</tr>
<tr>
<td>排序的多个优先级：orderby f1, f2</td>
<td>.OrderBy(f1).ThenBy(f2)</td>
</tr>
</tbody>
</table>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在匿名类型中直接使用lambda表达式参数</span></span><br><span class="line">sequence.Select((Item, Index) =&gt; <span class="keyword">new</span> &#123;Item, Index&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h2><p><a href="http://csharpindepth.com/" target="_blank" rel="noopener">c sharp in depth</a><br><a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/linq/linq-to-objects" target="_blank" rel="noopener">LINQ to Objects (C#) MSDN</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sidizhan.github.io/2018/10/24/c-sharp-in-depth-ch-11/" data-id="cjnn84bzk00003nj8tvh91x5a" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/24/hello-world/" class="article-date">
  <time datetime="2018-10-24T12:58:26.923Z" itemprop="datePublished">2018-10-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/10/24/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://sidizhan.github.io/2018/10/24/hello-world/" data-id="cjnn84bzr00023nj8bgo9dvig" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/10/24/how-do-i-set-up-this-blog-site/">how do i set up this blog site</a>
          </li>
        
          <li>
            <a href="/2018/10/24/python-data-analyst-interview/">python data analyst interview</a>
          </li>
        
          <li>
            <a href="/2018/10/24/c-sharp-in-depth-ch-11/">c sharp in depth ch 11</a>
          </li>
        
          <li>
            <a href="/2018/10/24/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Sidi Zhan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>